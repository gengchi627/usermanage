webpackJsonp([1],{ANaX:function(e,t){},GF5P:function(e,t){},HTL6:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("7+uW"),a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var o=n("VU/8")({name:"App"},a,!1,function(e){n("GF5P")},null,null).exports,s=n("/ocq"),i=n("mvHQ"),l=n.n(i);function u(e,t,n){var r=new Date;r.setSeconds(r.getSeconds()+n),document.cookie=e+"="+escape(t)+"; expires="+r.toGMTString(),console.log(document.cookie)}function c(e){if(document.cookie.length>0){var t=document.cookie.indexOf(e+"=");if(-1!==t){t=t+e.length+1;var n=document.cookie.indexOf(";",t);return-1===n&&(n=document.cookie.length),unescape(document.cookie.substring(t,n))}}return""}var m=n("mtWM"),d=n.n(m),p={mounted:function(){c("username")&&this.$router.push("/home")},data:function(){return{logining:!1,ruleForm2:{account:"admin",checkPass:"123456"},checked:!0,rules2:{account:[{required:!0,message:"请输入账号",trigger:"blur"}],checkPass:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{handleSubmit2:function(e){var t=this;this.$refs.ruleForm2.validate(function(e){if(!e)return alert("error"),!1;t.logining=!0;var n,r={username:t.ruleForm2.account,password:t.ruleForm2.checkPass};(n=r,d.a.post("/login",n).then(function(e){return e.data})).then(function(e){t.logining=!1;var n=e.code,r=e.msg,a=e.user;200!==n?alert("code:"+n+",msg:"+r):(u("username",t.ruleForm2.account,6e4),sessionStorage.setItem("user",l()(a)),t.$router.push("/user"))})})}}},f={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm login-container",attrs:{model:e.ruleForm2,rules:e.rules2,"label-position":"left","label-width":"0px"}},[n("h3",{staticClass:"title"},[e._v("系统登录")]),e._v(" "),n("el-form-item",{attrs:{prop:"account"}},[n("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号"},model:{value:e.ruleForm2.account,callback:function(t){e.$set(e.ruleForm2,"account",t)},expression:"ruleForm2.account"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"checkPass"}},[n("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},model:{value:e.ruleForm2.checkPass,callback:function(t){e.$set(e.ruleForm2,"checkPass",t)},expression:"ruleForm2.checkPass"}})],1),e._v(" "),n("el-checkbox",{staticClass:"remember",attrs:{checked:""},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("记住密码")]),e._v(" "),n("el-form-item",{staticStyle:{width:"100%"}},[n("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:e.logining},nativeOn:{click:function(t){t.preventDefault(),e.handleSubmit2(t)}}},[e._v("登录\n    ")])],1)],1)},staticRenderFns:[]};var h=n("VU/8")(p,f,!1,function(e){n("Tao/")},"data-v-116e3f23",null).exports,v={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("p",[this._v("欢迎光临主页")])])}]};var g=n("VU/8")({name:"App"},v,!1,function(e){n("HTL6")},null,null).exports,b={data:function(){return{name:""}},mounted:function(){var e=c("username");this.name=e,""===e&&this.$router.push("/")},methods:{quit:function(){u("username","",-1),this.$router.push("/")}}},_={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h3",[this._v("欢迎 "+this._s(this.name))]),this._v(" "),t("a",{attrs:{href:"#"},on:{click:this.quit}},[this._v("注销登录")])])},staticRenderFns:[]},k=n("VU/8")(b,_,!1,null,null,null).exports,w={data:function(){return{loading:!1,filters:{name:""},users:[]}},methods:{formatSex:function(e,t){return 1===e.sex?"男":"女"},getUser:function(){var e=this;this.loading=!0,function(e){return d.a.get("/user/list",{params:e})}({name:this.filters.name}).then(function(t){e.users=t.data.users,e.loading=!1})}},mounted:function(){this.getUser()}},x={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[n("el-form",{attrs:{inline:!0,model:e.filters}},[n("el-form-item",[n("el-input",{attrs:{placeholder:"姓名",atoucomplete:"off"},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.getUser}},[e._v("查询")])],1)],1)],1),e._v(" "),[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"userTable",attrs:{data:e.users,"highlight-current-row":""}},[n("el-table-column",{attrs:{type:"index",width:"50"}}),e._v(" "),n("el-table-column",{attrs:{prop:"name",label:"姓名",width:"180",sortable:""}}),e._v(" "),n("el-table-column",{attrs:{prop:"sex",label:"性别",width:"120",sortable:"",formatter:e.formatSex}}),e._v(" "),n("el-table-column",{attrs:{prop:"age",label:"年龄",width:"120",sortable:""}}),e._v(" "),n("el-table-column",{attrs:{prop:"birth",label:"生日",width:"180",sortable:""}}),e._v(" "),n("el-table-column",{attrs:{prop:"addr",label:"地址",sortable:""}})],1)]],2)},staticRenderFns:[]};var F=n("VU/8")(w,x,!1,function(e){n("ANaX")},"data-v-492d4d86",null).exports;r.default.use(s.a);for(var y=new s.a({routes:[{path:"/",name:"Login",component:h},{path:"/main",name:"Main",component:g},{path:"/home",name:"Home",component:k},{path:"/user",name:"User",component:F}]}),S=n("zL8q"),$=n.n(S),P=(n("tvR6"),n("//Fk")),R=n.n(P),U=n("KorX"),T=n.n(U),N=n("zNUS"),O=n.n(N),q=[{id:1,username:"admin",password:"123456",avatar:"https://raw.githubusercontent.com/taylorchen709/markdown-images/master/vueadmin/user.png",name:"张某某"}],A=[],E=0;E<86;E++)A.push(O.a.mock({id:O.a.Random.guid(),name:O.a.Random.cname(),addr:O.a.mock("@county(true)"),"age|18-60":1,birth:O.a.Random.date(),sex:O.a.Random.integer(0,1)}));var G=A;(function(){var e=new T.a(d.a);e.onGet("/success").reply(200,{msg:"success"}),e.onGet("/error").reply(500,{msg:"failure"}),e.onPost("/login").reply(function(e){var t=JSON.parse(e.data),n=t.username,r=t.password;return new R.a(function(e,t){var a=null;setTimeout(function(){var t=q.some(function(e){if(e.username===n&&e.password===r)return(a=JSON.parse(l()(e))).password=void 0,!0});e(t?[200,{code:200,msg:"请求成功",user:a}]:[200,{code:500,msg:"账号或密码错误"}])},1e3)})}),e.onGet("/user/list").reply(function(e){var t=e.params.name,n=G.filter(function(e){return!t||-1!==e.name.indexOf(t)});return new R.a(function(e,t){setTimeout(function(){e([200,{users:n}])},1e3)})})})(),r.default.use($.a),r.default.config.productionTip=!1,new r.default({el:"#app",router:y,components:{App:o},template:"<App/>"})},"Tao/":function(e,t){},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.1e1f1f928cc70c5b961c.js.map